{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Task List | Manager Portal</title>
    <link rel="stylesheet" href="{% static 'css/task_list.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        body { font-family: Arial, sans-serif; background-color: #f4f4f4; margin: 0; padding: 0; }
        .top-header { background-color: #007bff; color: #fff; padding: 15px; text-align: center; }
        .task-container { width: 95%; max-width: 1200px; margin: 30px auto; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        table { width: 100%; border-collapse: collapse; }
        th, td { padding: 10px; border: 1px solid #ddd; text-align: center; }
        th { background-color: #007bff; color: #fff; }
        tr:nth-child(even) { background-color: #f9f9f9; }
        .status-pending { color: #ff9800; font-weight: bold; }
        .status-inprogress { color: #2196f3; font-weight: bold; }
        .status-completed { color: #4caf50; font-weight: bold; }
        .btn-edit, .btn-delete { padding: 5px 10px; border: none; border-radius: 5px; cursor: pointer; color: #fff; }
        .btn-edit { background-color: #2196f3; }
        .btn-delete { background-color: #f44336; }
        .btn-edit:hover { background-color: #1976d2; }
        .btn-delete:hover { background-color: #d32f2f; }
    </style>
</head>
<body>

<header class="top-header">
    <h2>Task List</h2>
</header>

<section class="task-container">
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Title</th>
                <th>Employee</th>
                <th>Priority</th>
                <th>Status</th>
                <th>Start Date</th>
                <th>Due Date</th>
                <th>Completed Date</th>
                <th>Remark</th>
                <!-- Optional actions -->
                <!-- <th>Actions</th> -->
            </tr>
        </thead>
        <tbody>
            {% for task in tasks %}
            <tr>
                <td>{{ task.id }}</td>
                <td>{{ task.task_title }}</td>
                <td>{{ task.Emp_id.firstName }}</td>
                <td>{{ task.priority }}</td>
                <td>
                    {% if task.status == "Pending" %}
                        <span class="status-pending">{{ task.status }}</span>
                    {% elif task.status == "In Progress" %}
                        <span class="status-inprogress">{{ task.status }}</span>
                    {% elif task.status == "Completed" %}
                        <span class="status-completed">{{ task.status }}</span>
                    {% else %}
                        {{ task.status }}
                    {% endif %}
                </td>
                <td>{{ task.start_date }}</td>
                <td>{{ task.due_date }}</td>
                <td>{{ task.completed_date|default:"-" }}</td>
                <td>{{ task.remark|default:"-" }}</td>
                <!-- Optional actions -->
                <!-- 
                <td>
                    <button class="btn-edit">Edit</button>
                    <button class="btn-delete">Delete</button>
                </td>
                -->
            </tr>
            {% empty %}
            <tr>
                <td colspan="9">No tasks assigned yet.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</section>

</body>
</html>
